<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Partial Identification for Manipulated Regression Discontinuity Designs • rdpartial</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Partial Identification for Manipulated Regression Discontinuity Designs">
<meta property="og:description" content="Implements the partial identification approach for regression discontinuity designs when units may manipulate the running variable. Provides functions to estimate bounds for sharp and fuzzy designs, utilities for density estimation, simulation helpers and a bootstrap routine for confidence intervals. Based on methods described in Rosenman, Rajkumar, Gauriot &amp; Slonim (2025) &lt;arXiv:1910.02170&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rdpartial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/blood-donation-analysis.html">Partial Identification in Blood Donation RDD Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="rdpartial">rdpartial<a class="anchor" aria-label="anchor" href="#rdpartial"></a>
</h1></div>
<p><strong>⚠️ Beta Release Notice:</strong> This package (v0.1.0) is currently in beta. While feature-complete, it may contain bugs and is recommended for testing and evaluation purposes. Please report any issues on GitHub.</p>
<p><code>rdpartial</code> implements the partial identification approach for regression discontinuity designs with possible manipulation of the running variable. It provides functions for estimating bounds under both sharp and fuzzy designs, utilities for density estimation of the running variable, a simulation generator and a parametric bootstrap helper.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is not on CRAN. You can install the development version from a GitHub repository with <code>devtools</code> or <code>remotes</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"rajkumarkarthik/rdpartial"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="main-functions">Main functions<a class="anchor" aria-label="anchor" href="#main-functions"></a>
</h2>
<ul>
<li>
<code><a href="reference/simulate_rdd_data.html">simulate_rdd_data()</a></code> – generate synthetic RDD examples with optional manipulation.</li>
<li>
<code><a href="reference/bounds_sharp.html">bounds_sharp()</a></code> / <code><a href="reference/bounds_fuzzy.html">bounds_fuzzy()</a></code> – compute Manski-style bounds for sharp or fuzzy designs given estimated non-manipulated counts.</li>
<li>
<code><a href="reference/bootstrap_bounds.html">bootstrap_bounds()</a></code> – parametric bootstrap for confidence intervals around the bounds.</li>
</ul>
<p>The helper <code><a href="reference/dot-density_estimation.html">.density_estimation()</a></code> (not exported) estimates the number of non-manipulated observations in a manipulation region.</p>
</div>
<div class="section level2">
<h2 id="minimal-example">Minimal example<a class="anchor" aria-label="anchor" href="#minimal-example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rdpartial</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Simulate a sharp design with manipulation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate_rdd_data.html">simulate_rdd_data</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">2000</span>, cutoff <span class="op">=</span> <span class="fl">16</span>, design <span class="op">=</span> <span class="st">"sharp"</span>,</span>
<span>                         manip_width <span class="op">=</span> <span class="fl">0.4</span>, manip_prob <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assume 90% of post-cutoff mass is genuine</span></span>
<span><span class="va">post</span> <span class="op">&lt;-</span> <span class="va">sim</span><span class="op">$</span><span class="va">x</span><span class="op">[</span><span class="va">sim</span><span class="op">$</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">16</span><span class="op">]</span></span>
<span><span class="va">n_bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">post</span><span class="op">)</span> <span class="op">-</span> <span class="fl">16</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="va">true_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x      <span class="op">=</span> <span class="fl">16</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">post</span><span class="op">)</span>,</span>
<span>  n_true <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tabulate.html" class="external-link">tabulate</a></span><span class="op">(</span><span class="va">post</span> <span class="op">-</span> <span class="fl">16</span> <span class="op">+</span> <span class="fl">1</span>, nbins <span class="op">=</span> <span class="va">n_bins</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute lower and upper bounds at the cutoff</span></span>
<span><span class="fu"><a href="reference/bounds_sharp.html">bounds_sharp</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">x</span>, <span class="va">sim</span><span class="op">$</span><span class="va">y</span>, cutoff <span class="op">=</span> <span class="fl">16</span>, true_counts <span class="op">=</span> <span class="va">true_counts</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research, please cite:</p>
<p>Rosenman, E., Rajkumar, K., Gauriot, R., &amp; Slonim, R. (2025). Donor’s Deferral and Return Behavior: Partial Identification from a Regression Discontinuity Design with Manipulation. <em>arXiv preprint arXiv:1910.02170</em>.</p>
<p><strong>BibTeX:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="va">@misc</span>{<span class="ot">rosenman2025donorsdeferralreturnbehavior</span>,</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>      <span class="dt">title</span>={Donor's Deferral and Return Behavior: Partial Identification from a Regression Discontinuity Design with Manipulation}, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>      <span class="dt">author</span>={Evan Rosenman and Karthik Rajkumar and Romain Gauriot and Robert Slonim},</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>      <span class="dt">year</span>={2025},</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>      <span class="dt">eprint</span>={1910.02170},</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>      <span class="dt">archivePrefix</span>={arXiv},</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>      <span class="dt">primaryClass</span>={stat.ME},</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>      <span class="dt">url</span>={https://arxiv.org/abs/1910.02170}</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>Development of this package was assisted by OpenAI’s ChatGPT o3 model and Anthropic’s Claude 4 Sonnet model for code optimization and documentation refinement. All algorithmic design, mathematical implementation, and scientific validation remain the work of the authors.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This package is provided under the GPL (&gt;= 3) license. See LICENSE for details.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3) + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rdpartial</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Karthik Rajkumar <br><small class="roles"> Author, maintainer </small>   </li>
<li>Evan Rosenman <br><small class="roles"> Author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Karthik Rajkumar, Evan Rosenman.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
